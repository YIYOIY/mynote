{"ast":null,"code":"// 导入pubsub\nimport PubSub from 'pubsub-js';\nexport default {\n  name: \"School\",\n  data() {\n    return {\n      name: \"哔哩哔哩\",\n      address: \"上海\"\n    };\n  },\n  mounted() {\n    // 订阅消息\n    // subscribe()有两个参数，第一个参数为消息名（唯一标识）；第二个参数为回调函数，接收到的数据都传给回调函数使用。\n    // 回调函数第一个参数为消息名，后面的参数才是接收的数据。第一个参数没多大用处但是又不能不写，所以一般会用\"_\"来占位。\n    PubSub.subscribe('hello', (_, data) => {\n      console.log('我是School组件，收到了来自+_+数据：' + data, '消息名：' + _);\n    });\n  },\n  beforeDestroy() {\n    // 在组件实例销毁之前解绑事件\n    this.$bus.$off(\"hello\");\n  }\n};","map":{"version":3,"names":["PubSub","name","data","address","mounted","subscribe","_","console","log","beforeDestroy","$bus","$off"],"sources":["src/components/School.vue"],"sourcesContent":["<template>\r\n  <div class=\"school\">\r\n    <h2>学校名称：{{ name }}</h2>\r\n    <h2>学校地址：{{ address }}</h2>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入pubsub\r\nimport PubSub from 'pubsub-js'\r\nexport default {\r\n  name: \"School\",\r\n  data() {\r\n    return {\r\n      name: \"哔哩哔哩\",\r\n      address: \"上海\",\r\n    };\r\n  },\r\n  mounted() {\r\n    // 订阅消息\r\n    // subscribe()有两个参数，第一个参数为消息名（唯一标识）；第二个参数为回调函数，接收到的数据都传给回调函数使用。\r\n    // 回调函数第一个参数为消息名，后面的参数才是接收的数据。第一个参数没多大用处但是又不能不写，所以一般会用\"_\"来占位。\r\n    PubSub.subscribe('hello',(_,data)=>{\r\n      console.log('我是School组件，收到了来自+_+数据：'+data,'消息名：'+_)\r\n    })\r\n  },\r\n  beforeDestroy() {\r\n\t// 在组件实例销毁之前解绑事件\r\n    this.$bus.$off(\"hello\");\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.school {\r\n  background-color: skyblue;\r\n  padding: 5px;\r\n  margin-top: 10px;\r\n}\r\n</style>"],"mappings":"AAQA;AACA,OAAAA,MAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAD,IAAA;MACAE,OAAA;IACA;EACA;EACAC,QAAA;IACA;IACA;IACA;IACAJ,MAAA,CAAAK,SAAA,WAAAC,CAAA,EAAAJ,IAAA;MACAK,OAAA,CAAAC,GAAA,4BAAAN,IAAA,WAAAI,CAAA;IACA;EACA;EACAG,cAAA;IACA;IACA,KAAAC,IAAA,CAAAC,IAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}